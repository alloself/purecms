(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{Vykn:function(t,e,a){"use strict";var n=a("uEU7");a.n(n).a},"al3+":function(t,e,a){(t.exports=a("I1BE")(!1)).push([t.i,"\n.v-card[data-v-43c2706d] {\n  border: 1px solid #d7d5d7;\n  margin: 5px;\n}\n.center[data-v-43c2706d] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.image-card[data-v-43c2706d] {\n  position: relative;\n  height: 150px;\n  margin-bottom: 20px;\n  width: 150px;\n}\n.image-card .view[data-v-43c2706d] {\n  display: flex;\n}\n.image-card .view img[data-v-43c2706d] {\n  max-width: 100%;\n  max-height: 100%;\n}\n.view input[data-v-43c2706d] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  opacity: 0;\n  z-index: 9999;\n}\n.image-card .view[data-v-43c2706d] {\n  height: 100%;\n  display: flex;\n  width: 100%;\n  -o-object-fit: contain;\n  object-fit: contain;\n  align-items: center;\n  justify-content: center;\n}\n",""])},iCgN:function(t,e,a){"use strict";a.r(e);var n=a("L2JU");function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r={props:{pages:{type:Array,default:function(){return[]}},product:{type:Object,default:function(){return{image:null}}}},mounted:function(){this.product.params=JSON.parse(this.product.params)},data:function(){return{newProp:""}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){i(t,e,a[e])})}return t}({},Object(n.d)({alerts:function(t){return t.alerts.alerts}})),methods:{deleteProp:function(t){this.product.params.splice(t,1)},update:function(){var t=this,e=new FormData;e.append("_method","PATCH"),Object.keys(this.product).forEach(function(a){null!==t.product[a]&&e.append(a,t.product[a])}),e.append("image",this.$refs.file.files[0]),e.append("params",JSON.stringify(this.product.params)),axios.post("/api/auth/products/"+this.product.id,e).then(function(e){e.data.params=JSON.parse(e.data.params),t.$emit("updateProduct",e.data)})},destroy:function(){var t=this;axios.delete("/api/auth/products/"+this.product.id).then(function(e){t.$emit("deleteProduct",t.page)})},previewImage:function(t){var e=this,a=t.target;if(a.files&&a.files[0]){var n=new FileReader;n.onload=function(t){e.product.image=t.target.result},n.readAsDataURL(a.files[0])}},addProp:function(){this.product.params.push({name:this.newProp})},submit:function(){var t=this,e=new FormData;Object.keys(this.product).forEach(function(a){e.append(a,t.product[a])}),e.append("params",JSON.stringify(this.product.params)),e.append("image",this.$refs.file.files[0]),axios.post("/api/auth/products",e).then(function(e){t.alerts.push(e.data.message),t.$emit("addProduct",e.data.page),t.page={}})}}},o=(a("Vykn"),a("KHd+")),c=Object(o.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs12:"",sm12:"",md4:""}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",[t._v(t._s(t.product.title))])],1),t._v(" "),a("v-card-text",[a("v-form",[a("div",{staticClass:"center"},[a("div",{staticClass:"image-card shadow"},[a("div",{staticClass:"view"},[a("input",{ref:"file",staticClass:"image",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:t.previewImage}}),t._v(" "),t.product.image?a("img",{attrs:{src:t.product.image}}):a("v-icon",{attrs:{alt:"avatar"}},[t._v("add_circle_outline")])],1)])]),t._v(" "),a("v-text-field",{attrs:{name:"title",label:"Название",type:"text",outline:"",required:""},model:{value:t.product.title,callback:function(e){t.$set(t.product,"title",e)},expression:"product.title"}}),t._v(" "),a("v-text-field",{attrs:{name:"price",label:"Цена",type:"number",outline:"",required:""},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}}),t._v(" "),a("v-text-field",{attrs:{name:"description",label:"Описание",type:"text",outline:"",required:""},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}}),t._v(" "),a("v-autocomplete",{attrs:{items:t.pages,"item-value":"id","item-text":"title",outline:"",label:"Выводить на странице"},model:{value:t.product.page_id,callback:function(e){t.$set(t.product,"page_id",e)},expression:"product.page_id"}}),t._v(" "),a("v-checkbox",{attrs:{label:"Страница","true-value":1,"false-value":0},model:{value:t.product.pageble,callback:function(e){t.$set(t.product,"pageble",e)},expression:"product.pageble"}}),t._v(" "),a("v-text-field",{attrs:{outline:"",label:"Введите новый параметр","append-icon":"add"},on:{"click:append":t.addProp},model:{value:t.newProp,callback:function(e){t.newProp=e},expression:"newProp"}}),t._v(" "),t._l(t.product.params,function(e,n){return[a("v-layout",{key:n},[a("v-flex",{attrs:{row:""}},[a("h4",[t._v("Название параметра: "+t._s(e.name))]),t._v(" "),a("v-text-field",{attrs:{label:"Значение параметра",type:"text",outline:"","append-icon":"delete"},on:{"click:append":function(e){return t.deleteProp(n)}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"prop.value"}})],1)],1)]})],2)],1),t._v(" "),a("v-btn",{on:{click:t.update}},[t._v("Обновить")]),t._v(" "),a("v-btn",{on:{click:t.destroy}},[t._v("Удалить")])],1)],1)},[],!1,null,"43c2706d",null);e.default=c.exports},uEU7:function(t,e,a){var n=a("al3+");"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(t.exports=n.locals)}}]);