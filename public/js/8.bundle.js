(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{DBgM:function(e,t,a){"use strict";var n=a("VZl0");a.n(n).a},VZl0:function(e,t,a){var n=a("Y5p6");"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(n,i);n.locals&&(e.exports=n.locals)},Y5p6:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n.v-card[data-v-4beb0bf2] {\n  border: 1px solid #d7d5d7;\n  margin: 5px;\n}\n.center[data-v-4beb0bf2] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.image-card[data-v-4beb0bf2] {\n  position: relative;\n  height: 150px;\n  margin-bottom: 20px;\n  width: 150px;\n}\n.image-card .view[data-v-4beb0bf2] {\n  display: flex;\n}\n.image-card .view img[data-v-4beb0bf2] {\n  max-width: 100%;\n  max-height: 100%;\n}\n.view input[data-v-4beb0bf2] {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  opacity: 0;\n  z-index: 9999;\n}\n.image-card .view[data-v-4beb0bf2] {\n  height: 100%;\n  display: flex;\n  width: 100%;\n  -o-object-fit: contain;\n  object-fit: contain;\n  align-items: center;\n  justify-content: center;\n}\n",""])},mH10:function(e,t,a){"use strict";a.r(t);var n={props:{pages:{type:Array,default:function(){return[]}}},created:function(){},data:function(){return{product:{image:null,params:[]},newProp:""}},methods:{deleteProp:function(e){this.product.params.splice(e,1)},previewImage:function(e){var t=this,a=e.target;if(a.files&&a.files[0]){var n=new FileReader;n.onload=function(e){t.product.image=e.target.result},n.readAsDataURL(a.files[0])}},addProp:function(){this.product.params.push({name:this.newProp})},submit:function(){var e=this,t=new FormData;Object.keys(this.product).forEach(function(a){null!==e.product[a]&&t.append(a,e.product[a])}),t.append("params",JSON.stringify(this.product.params)),t.append("image",this.$refs.file.files[0]),axios.post("/api/auth/products",t).then(function(t){e.$emit("addProduct",t.data),e.page={}})}}},i=(a("DBgM"),a("KHd+")),r=Object(i.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:"",sm12:"",md3:""}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",[e._v("Новый продукт")])],1),e._v(" "),a("v-card-text",[a("v-form",[a("div",{staticClass:"center"},[a("div",{staticClass:"image-card shadow"},[a("div",{staticClass:"view"},[a("input",{ref:"file",staticClass:"image",attrs:{type:"file",name:"image",accept:"image/*"},on:{change:e.previewImage}}),e._v(" "),e.product.image?a("img",{attrs:{src:e.product.image}}):a("v-icon",{attrs:{alt:"avatar"}},[e._v("add_circle_outline")])],1)])]),e._v(" "),a("v-text-field",{attrs:{name:"title",label:"Название",type:"text",outline:"",required:""},model:{value:e.product.title,callback:function(t){e.$set(e.product,"title",t)},expression:"product.title"}}),e._v(" "),a("v-text-field",{attrs:{name:"price",label:"Цена",type:"number",outline:"",required:""},model:{value:e.product.price,callback:function(t){e.$set(e.product,"price",t)},expression:"product.price"}}),e._v(" "),a("v-text-field",{attrs:{name:"description",label:"Описание",type:"text",outline:"",required:""},model:{value:e.product.description,callback:function(t){e.$set(e.product,"description",t)},expression:"product.description"}}),e._v(" "),a("v-autocomplete",{attrs:{items:e.pages,"item-value":"id","item-text":"title",outline:"",label:"Выводить на странице"},model:{value:e.product.page_id,callback:function(t){e.$set(e.product,"page_id",t)},expression:"product.page_id"}}),e._v(" "),a("v-checkbox",{attrs:{label:"Страница","true-value":1,"false-value":0},model:{value:e.product.pageble,callback:function(t){e.$set(e.product,"pageble",t)},expression:"product.pageble"}}),e._v(" "),a("v-text-field",{attrs:{outline:"",label:"Введите новый параметр","append-icon":"add"},on:{"click:append":e.addProp},model:{value:e.newProp,callback:function(t){e.newProp=t},expression:"newProp"}}),e._v(" "),e._l(e.product.params,function(t,n){return[a("v-layout",{key:n},[a("v-flex",{attrs:{row:""}},[a("h4",[e._v("Название параметра: "+e._s(t.name))]),e._v(" "),a("v-text-field",{attrs:{label:"Значение параметра",type:"text",outline:"","append-icon":"delete"},on:{"click:append":function(t){return e.deleteProp(n)}},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"prop.value"}})],1)],1)]})],2)],1),e._v(" "),a("v-btn",{on:{click:e.submit}},[e._v("Создать")])],1)],1)},[],!1,null,"4beb0bf2",null);t.default=r.exports}}]);